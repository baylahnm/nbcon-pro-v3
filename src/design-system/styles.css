/* NBCON Pro Design System Styles */
/* Enhanced Tailwind CSS with custom utilities */

@import 'tailwindcss/base';
@import 'tailwindcss/components';
@import 'tailwindcss/utilities';

/* Custom CSS Variables for Design Tokens */
:root {
  /* Brand Colors */
  --color-brand-primary: #00D084;
  --color-brand-primary-dark: #00B875;
  --color-brand-primary-light: #33D99A;
  --color-brand-secondary: #0D1B0F;
  --color-brand-tertiary: #1A2D1C;
  --color-brand-surface: #243027;

  /* Semantic Colors */
  --color-success-50: #f0fdf4;
  --color-success-100: #dcfce7;
  --color-success-500: #10b981;
  --color-success-600: #059669;
  --color-success-700: #047857;

  --color-warning-50: #fffbeb;
  --color-warning-100: #fef3c7;
  --color-warning-500: #f59e0b;
  --color-warning-600: #d97706;
  --color-warning-700: #b45309;

  --color-error-50: #fef2f2;
  --color-error-100: #fee2e2;
  --color-error-500: #ef4444;
  --color-error-600: #dc2626;
  --color-error-700: #b91c1c;

  --color-info-50: #eff6ff;
  --color-info-100: #dbeafe;
  --color-info-500: #3b82f6;
  --color-info-600: #2563eb;
  --color-info-700: #1d4ed8;

  /* Typography */
  --font-primary: 'Inter', system-ui, sans-serif;
  --font-arabic: 'Noto Sans Arabic', 'Inter', system-ui, sans-serif;
  --font-mono: 'JetBrains Mono', 'Fira Code', monospace;

  /* Spacing Scale */
  --space-1: 0.25rem;
  --space-2: 0.5rem;
  --space-3: 0.75rem;
  --space-4: 1rem;
  --space-6: 1.5rem;
  --space-8: 2rem;
  --space-12: 3rem;
  --space-16: 4rem;

  /* Border Radius */
  --radius-sm: 0.125rem;
  --radius-base: 0.25rem;
  --radius-md: 0.375rem;
  --radius-lg: 0.5rem;
  --radius-xl: 0.75rem;
  --radius-2xl: 1rem;
  --radius-full: 9999px;

  /* Shadows */
  --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
  --shadow-base: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
  --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
  --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
  --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);

  /* Focus States */
  --focus-ring: 2px solid var(--color-brand-primary);
  --focus-ring-offset: 2px;
  --focus-ring-offset-color: #ffffff;

  /* Animation */
  --animation-fast: 150ms;
  --animation-normal: 300ms;
  --animation-slow: 500ms;
  --easing-linear: linear;
  --easing-in: cubic-bezier(0.4, 0, 1, 1);
  --easing-out: cubic-bezier(0, 0, 0.2, 1);
  --easing-in-out: cubic-bezier(0.4, 0, 0.2, 1);

  /* Accessibility */
  --touch-target: 44px;
  --min-contrast: 4.5;
}

/* Dark Theme Variables */
[data-theme="dark"] {
  --color-background: var(--color-brand-secondary);
  --color-foreground: #ffffff;
  --color-muted: var(--color-brand-tertiary);
  --color-muted-foreground: #9ca3af;
  --color-border: var(--color-brand-surface);
  --color-input: var(--color-brand-surface);
  --color-primary: var(--color-brand-primary);
  --color-primary-foreground: var(--color-brand-secondary);
  --color-secondary: var(--color-brand-tertiary);
  --color-secondary-foreground: #ffffff;
  --color-accent: var(--color-brand-surface);
  --color-accent-foreground: #ffffff;
  --color-destructive: var(--color-error-500);
  --color-destructive-foreground: #ffffff;
  --color-ring: var(--color-brand-primary);
}

/* RTL Support */
[dir="rtl"] {
  --text-align-start: right;
  --text-align-end: left;
  --margin-start: margin-right;
  --margin-end: margin-left;
  --padding-start: padding-right;
  --padding-end: padding-left;
  --border-start: border-right;
  --border-end: border-left;
}

/* Base Styles */
@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
    font-feature-settings: "rlig" 1, "calt" 1;
  }

  /* Arabic Typography */
  [lang="ar"] {
    font-family: var(--font-arabic);
    line-height: 1.6;
  }

  /* Focus Management */
  *:focus-visible {
    outline: var(--focus-ring);
    outline-offset: var(--focus-ring-offset);
  }

  /* Remove default focus outline */
  *:focus:not(:focus-visible) {
    outline: none;
  }

  /* Screen Reader Only */
  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
  }

  /* Skip Link */
  .skip-link {
    @apply sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4;
    @apply bg-primary text-primary-foreground px-4 py-2 rounded-md;
    @apply z-50;
  }
}

/* Component Styles */
@layer components {
  /* Button Variants */
  .btn {
    @apply inline-flex items-center justify-center rounded-md text-sm font-medium;
    @apply transition-colors focus-visible:outline-none focus-visible:ring-2;
    @apply disabled:pointer-events-none disabled:opacity-50;
    min-height: var(--touch-target);
  }

  .btn-primary {
    @apply bg-primary text-primary-foreground hover:bg-primary/90;
    @apply focus-visible:ring-primary;
  }

  .btn-secondary {
    @apply bg-secondary text-secondary-foreground hover:bg-secondary/80;
    @apply focus-visible:ring-primary;
  }

  .btn-destructive {
    @apply bg-destructive text-destructive-foreground hover:bg-destructive/90;
    @apply focus-visible:ring-destructive;
  }

  .btn-outline {
    @apply border border-input bg-background hover:bg-accent hover:text-accent-foreground;
    @apply focus-visible:ring-primary;
  }

  .btn-ghost {
    @apply hover:bg-accent hover:text-accent-foreground;
    @apply focus-visible:ring-primary;
  }

  .btn-link {
    @apply text-primary underline-offset-4 hover:underline;
    @apply focus-visible:ring-primary;
  }

  /* Button Sizes */
  .btn-sm {
    @apply h-9 px-3 text-xs;
  }

  .btn-md {
    @apply h-10 px-4 py-2;
  }

  .btn-lg {
    @apply h-11 px-8 text-base;
  }

  .btn-icon {
    @apply h-10 w-10;
  }

  /* Input Styles */
  .input {
    @apply flex h-10 w-full rounded-md border border-input bg-background px-3 py-2;
    @apply text-sm ring-offset-background file:border-0 file:bg-transparent;
    @apply file:text-sm file:font-medium placeholder:text-muted-foreground;
    @apply focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring;
    @apply focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50;
  }

  .input-error {
    @apply border-destructive focus-visible:ring-destructive;
  }

  /* Card Styles */
  .card {
    @apply rounded-lg border bg-card text-card-foreground shadow-sm;
  }

  .card-header {
    @apply flex flex-col space-y-1.5 p-6;
  }

  .card-title {
    @apply text-2xl font-semibold leading-none tracking-tight;
  }

  .card-description {
    @apply text-sm text-muted-foreground;
  }

  .card-content {
    @apply p-6 pt-0;
  }

  .card-footer {
    @apply flex items-center p-6 pt-0;
  }

  /* Badge Styles */
  .badge {
    @apply inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold;
    @apply transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2;
  }

  .badge-default {
    @apply border-transparent bg-primary text-primary-foreground hover:bg-primary/80;
  }

  .badge-secondary {
    @apply border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80;
  }

  .badge-destructive {
    @apply border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80;
  }

  .badge-outline {
    @apply text-foreground;
  }

  /* Alert Styles */
  .alert {
    @apply relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground;
  }

  .alert-default {
    @apply bg-background text-foreground;
  }

  .alert-destructive {
    @apply border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive;
  }

  /* Skeleton Styles */
  .skeleton {
    @apply animate-pulse rounded-md bg-muted;
  }

  /* Loading Spinner */
  .spinner {
    @apply animate-spin rounded-full border-2 border-current border-t-transparent;
  }
}

/* Utility Classes */
@layer utilities {
  /* RTL Utilities */
  .rtl-flip {
    transform: scaleX(-1);
  }

  .rtl-flip-vertical {
    transform: scaleY(-1);
  }

  /* Logical Properties */
  .ms-0 { margin-inline-start: 0; }
  .ms-1 { margin-inline-start: var(--space-1); }
  .ms-2 { margin-inline-start: var(--space-2); }
  .ms-3 { margin-inline-start: var(--space-3); }
  .ms-4 { margin-inline-start: var(--space-4); }
  .ms-6 { margin-inline-start: var(--space-6); }
  .ms-8 { margin-inline-start: var(--space-8); }
  .ms-10 { margin-inline-start: 2.5rem; }
  .ms-12 { margin-inline-start: 3rem; }
  .ms-16 { margin-inline-start: 4rem; }

  .me-0 { margin-inline-end: 0; }
  .me-1 { margin-inline-end: var(--space-1); }
  .me-2 { margin-inline-end: var(--space-2); }
  .me-3 { margin-inline-end: var(--space-3); }
  .me-4 { margin-inline-end: var(--space-4); }
  .me-6 { margin-inline-end: var(--space-6); }
  .me-8 { margin-inline-end: var(--space-8); }
  .me-10 { margin-inline-end: 2.5rem; }
  .me-12 { margin-inline-end: 3rem; }
  .me-16 { margin-inline-end: 4rem; }

  .ps-0 { padding-inline-start: 0; }
  .ps-1 { padding-inline-start: var(--space-1); }
  .ps-2 { padding-inline-start: var(--space-2); }
  .ps-3 { padding-inline-start: var(--space-3); }
  .ps-4 { padding-inline-start: var(--space-4); }
  .ps-6 { padding-inline-start: var(--space-6); }
  .ps-8 { padding-inline-start: var(--space-8); }
  .ps-10 { padding-inline-start: 2.5rem; }
  .ps-12 { padding-inline-start: 3rem; }
  .ps-16 { padding-inline-start: 4rem; }

  .pe-0 { padding-inline-end: 0; }
  .pe-1 { padding-inline-end: var(--space-1); }
  .pe-2 { padding-inline-end: var(--space-2); }
  .pe-3 { padding-inline-end: var(--space-3); }
  .pe-4 { padding-inline-end: var(--space-4); }
  .pe-6 { padding-inline-end: var(--space-6); }
  .pe-8 { padding-inline-end: var(--space-8); }
  .pe-10 { padding-inline-end: 2.5rem; }
  .pe-12 { padding-inline-end: 3rem; }
  .pe-16 { padding-inline-end: 4rem; }

  .text-start { text-align: start; }
  .text-end { text-align: end; }

  /* Inline inset helpers */
  .inset-s-0 { inset-inline-start: 0; }
  .inset-s-1 { inset-inline-start: 0.25rem; }
  .inset-s-2 { inset-inline-start: 0.5rem; }
  .inset-s-3 { inset-inline-start: 0.75rem; }
  .inset-s-4 { inset-inline-start: 1rem; }
  .inset-s-6 { inset-inline-start: 1.5rem; }
  .inset-s-8 { inset-inline-start: 2rem; }

  .inset-e-0 { inset-inline-end: 0; }
  .inset-e-1 { inset-inline-end: 0.25rem; }
  .inset-e-2 { inset-inline-end: 0.5rem; }
  .inset-e-3 { inset-inline-end: 0.75rem; }
  .inset-e-4 { inset-inline-end: 1rem; }
  .inset-e-6 { inset-inline-end: 1.5rem; }
  .inset-e-8 { inset-inline-end: 2rem; }

  /* Rounded logical */
  .rounded-s { border-start-start-radius: 0.25rem; border-end-start-radius: 0.25rem; }
  .rounded-e { border-start-end-radius: 0.25rem; border-end-end-radius: 0.25rem; }
  .rounded-ss { border-start-start-radius: 0.25rem; }
  .rounded-se { border-start-end-radius: 0.25rem; }
  .rounded-es { border-end-start-radius: 0.25rem; }
  .rounded-ee { border-end-end-radius: 0.25rem; }
  .rounded-ss-md { border-start-start-radius: 0.375rem; }
  .rounded-se-md { border-start-end-radius: 0.375rem; }
  .rounded-es-md { border-end-start-radius: 0.375rem; }
  .rounded-ee-md { border-end-end-radius: 0.375rem; }

  /* Float logical */
  .float-start { float: inline-start; }
  .float-end { float: inline-end; }

  /* Bidirectional text safety */
  .bidi-plaintext { 
    unicode-bidi: plaintext; 
  }

  /* Touch Target Utilities */
  .touch-target {
    min-height: var(--touch-target);
    min-width: var(--touch-target);
  }

  /* Focus Utilities */
  .focus-ring {
    @apply focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2;
  }

  .focus-ring-inset {
    @apply focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-inset;
  }

  /* Animation Utilities */
  .animate-fade-in {
    animation: fadeIn var(--animation-normal) var(--easing-out);
  }

  .animate-slide-up {
    animation: slideUp var(--animation-normal) var(--easing-out);
  }

  .animate-slide-down {
    animation: slideDown var(--animation-normal) var(--easing-out);
  }

  .animate-slide-left {
    animation: slideLeft var(--animation-normal) var(--easing-out);
  }

  .animate-slide-right {
    animation: slideRight var(--animation-normal) var(--easing-out);
  }

  /* High Contrast Mode */
  @media (prefers-contrast: high) {
    .high-contrast {
      border: 2px solid;
      outline: 2px solid;
    }
  }

  /* Reduced Motion */
  @media (prefers-reduced-motion: reduce) {
    .animate-fade-in,
    .animate-slide-up,
    .animate-slide-down,
    .animate-slide-left,
    .animate-slide-right {
      animation: none;
    }
  }
}

/* Keyframe Animations */
@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes slideUp {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes slideDown {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes slideLeft {
  from {
    opacity: 0;
    transform: translateX(10px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes slideRight {
  from {
    opacity: 0;
    transform: translateX(-10px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

/* RTL-specific animations */
[dir="rtl"] .animate-slide-left {
  animation-name: slideRight;
}

[dir="rtl"] .animate-slide-right {
  animation-name: slideLeft;
}
